{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACXC,UAAWC,SAASC,cAAc,UAClCC,MAAOF,SAASC,cAAc,kBAC9BE,KAAMH,SAASC,cAAc,iBAC7BG,OAAQJ,SAASC,cAAc,oBAG3BI,EAAS,CACbC,WAAY,KACZC,UAAW,KACXC,YAAa,MA2Bf,SAASC,EAAcC,EAAUR,GAC/B,OAAO,IAAIS,SAAQ,CAACC,EAASC,KAC3BC,YAAW,KACWC,KAAKC,SAAW,GAEhCJ,EAAQ,uBAAqBF,QAAiBR,OAE5CW,EAAK,sBAAoBH,QAAeR,SAE3CA,MAjCTJ,EAAKC,UAAUkB,iBAAiB,SAGhC,SAAkBC,GAChBA,EAAEC,iBAEFrB,EAAKC,UAAUqB,UAAW,EAE1Bf,EAAOC,WAAae,OAAOvB,EAAKI,MAAMoB,OACtCjB,EAAOE,UAAYc,OAAOvB,EAAKK,KAAKmB,OACpCjB,EAAOG,YAAca,OAAOvB,EAAKM,OAAOkB,OAExC,IAAK,IAAIZ,EAAW,EAAGA,GAAYL,EAAOG,YAAaE,GAAY,EAEjED,EAAcC,EAAUL,EAAOC,YAC5BiB,MAAKC,GAAWC,EAAA7B,GAAS8B,OAAOF,QAAQA,KACxCG,OAAMC,GAASH,EAAA7B,GAAS8B,OAAOG,QAAQD,KAE1CvB,EAAOC,WAAaD,EAAOC,WAAaD,EAAOE,UAG/CT,EAAKC,UAAUqB,UAAW","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst refs = {\n  submitBtn: document.querySelector(\"button\"),\n  delay: document.querySelector('[name=\"delay\"]'),\n  step: document.querySelector('[name=\"step\"]'),\n  amount: document.querySelector('[name=\"amount\"]')\n} \n\nconst values = {\n  delayValue: null,\n  stepValue: null,\n  amountValue: null\n}\n\nrefs.submitBtn.addEventListener('click', onSubmit);\n\n\nfunction onSubmit(e) { \n  e.preventDefault();  \n\n  refs.submitBtn.disabled = true;\n  \n  values.delayValue = Number(refs.delay.value);\n  values.stepValue = Number(refs.step.value);\n  values.amountValue = Number(refs.amount.value);\n\n  for (let position = 1; position <= values.amountValue; position += 1) {\n    \n    createPromise(position, values.delayValue)\n      .then(success => Notiflix.Notify.success(success))\n      .catch(error => Notiflix.Notify.failure(error));\n    \n    values.delayValue = values.delayValue + values.stepValue;\n  };\n\n    refs.submitBtn.disabled = false;\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n    const shouldResolve = Math.random() > 0.3;\n        if (shouldResolve) {\n          resolve(`✅ Fulfilled promise ${position} in ${delay}ms`);\n        } else {\n          reject(`❌ Rejected promise ${position} in ${delay}ms`);\n        }\n      }, delay);\n    }\n  )\n}\n"],"names":["$eWCmQ","parcelRequire","$47d4ff9957288465$var$refs","submitBtn","document","querySelector","delay","step","amount","$47d4ff9957288465$var$values","delayValue","stepValue","amountValue","$47d4ff9957288465$var$createPromise","position","Promise","resolve","reject","setTimeout","Math","random","addEventListener","e","preventDefault","disabled","Number","value","then","success","$parcel$interopDefault","Notify","catch","error","failure"],"version":3,"file":"03-promises.77ff11cf.js.map"}